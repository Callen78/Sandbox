<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Carl‚Äôs Closet</title>
  <link rel="stylesheet" href="New_Style.css"/>
</head>
<body>
  <header> 
    <img src="../Images/Carls_Closet_green.png" class="logo">
    <nav>
      <ul>
        <li><a href="../Child_Pages/Arrivals_Style.html"><strong><u>Arrivals</u></strong></a></li>
        <li><a href="../Child_Pages/Upper_Clothing.html"><strong><u>Upper Clothing</u></strong></a></li>
        <li><a href="../Child_Pages/Lower_Clothing.html"><strong><u>Lower CLothing</u></strong></a></li>
        <li><a href="../Child_Pages/Add_On_Pieces.html"><strong><u>Add on Pieces</u></strong></a></li>
      </ul>
    </nav>
    <div class="cart-icon">üõí</div>
  </header>

  <section class="hero">

    <h1>Streetwear With Purpose</h1>
    <p>The goal of this site is to give ideals for outfits for any occasion, whether it be in the office or everyday day errands. Fahsion ranges from urban style to a 
      comfortable and casual look. The goal is to provide a wide range of styles that can be worn in any setting, from the work place to time off. The Founder of this space is from Memphis, TN and 
    has always learned and gathered inspiration from all cultures from around the world. Welcome to Carl's Closet Ladies and Gentlemen! est. 2025</p>
    </p>
    <a href="#" class="cta-button">Shop Now</a>
  </section>

  <section class="products">
    <h2><strong> Featured Drops</strong></h2>
    <div class="product-grid">
      <div class="product-card">
        <img src="../Images/Black_Red.jpg" alt="Product 1" class="zoom-img" />
        <script src="../Node_Files/homepage_active_script.js"></script> <!-- Link to the JavaScript file -->
        <h3>Supreme, Hellstar, Travis Scott's</h3>
       <!-- <p>$40</p> -->
      </div>
      <div class="product-card">
        <img src="../Images/Ami_Outfit.jpg" alt="Product 2" class="zoom-img">
        <script src="../Node_Files/homepage_active_script.js"></script> <!-- Link to the JavaScript file -->
        <h3>Big AMI Logo</h3>
        <!-- <p>$40</p> -->
      </div>
      <div class="product-card">
        <img src="../Images/Louis_Army.jpg" alt="Product 3" class="zoom-img">
        <script src="../Node_Files/homepage_active_script.js"></script> <!-- Link to the JavaScript file -->
        <h3>Louis Vuitton Sweater, Army Shorts</h3>
        <!-- <p>$40</p> -->
      </div>
    </div>
  </section>

<hr />

<section class="store-location">
    <h2>Our Store Location</h2>
    <div class="map-container">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3079.786712193654!2d-104.78800988797478!3d39.47414691234882!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x876c910f0bacc047%3A0x74a2595d90bce99a!2s17571%20Lobo%20Ln%2C%20Parker%2C%20CO%2080134!5e0!3m2!1sen!2sus!4v1753464991737!5m2!1sen!2sus" 
            width="600" 
            height="450" 
            style="border:0;" 
            allowfullscreen="" 
            loading="lazy" 
            referrerpolicy="no-referrer-when-downgrade">
        </iframe>
    </div>
  </section>

  <footer>
    <div class="footer-content">
      <p>¬© 2025 Carl's Closet. All rights reserved.</p>
      <form id="newsletter-form" class="newsletter">
        <label for="newsletter-email">Subscribe for updates:</label>
        <input type="email" id="newsletter-email" name="email" placeholder="Your email" required />
        <button type="submit">Join</button>
        <span id="newsletter-status" aria-live="polite" style="margin-left:10px"></span>
      </form>
      <div class="social-icons">
        <a href="#">üì∑</a>
        <a href="#">üê¶</a>
        <a href="#">üìò</a>
      </div>
    </div>
  </footer>
    <script>
      // Toggle sticky class to add a subtle shadow when header sticks
      document.addEventListener('DOMContentLoaded', () => {
        const header = document.querySelector('header');
        if (!header) return;
        const observer = new IntersectionObserver(
          ([e]) => header.classList.toggle('sticky', e.intersectionRatio < 1),
          { threshold: [1] }
        );
        // observe a sentinel element at the top of the page
        const sentinel = document.createElement('div');
        sentinel.style.position = 'absolute';
        sentinel.style.top = '0';
        sentinel.style.width = '1px';
        sentinel.style.height = '1px';
        document.body.prepend(sentinel);
        observer.observe(sentinel);
      });

      // Newsletter form: POSTs JSON { email } to /subscribe
      document.addEventListener('DOMContentLoaded', () => {
        const form = document.getElementById('newsletter-form');
        const emailInput = document.getElementById('newsletter-email');
        const status = document.getElementById('newsletter-status');

        form.addEventListener('submit', async (e) => {
          e.preventDefault();
          status.textContent = 'Submitting...';
          const email = emailInput.value.trim();
          if (!email) { status.textContent = 'Please enter a valid email.'; return; }

          try {
            // Use explicit URL for the Node server (fixes Live Server / different-origin 405)
            const API = 'http://localhost:3000';
            const resp = await fetch(`${API}/subscribe`, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ email })
            });

            // Safely parse response (server might return empty body on error)
            let data = null;
            const contentType = resp.headers.get('content-type') || '';
            if (contentType.includes('application/json')) {
              try { data = await resp.json(); } catch (e) { data = null; }
            } else {
              // fallback to text
              try { data = { message: await resp.text() }; } catch (e) { data = null; }
            }

            if (resp.ok) {
              status.textContent = (data && (data.message || data.error)) || 'Thanks for subscribing!';
              emailInput.value = '';
            } else {
              status.textContent = (data && (data.error || data.message)) || `Subscription failed (status ${resp.status}).`;
            }
          } catch (err) {
            console.error('Fetch error:', err);
            status.textContent = 'Network error. Try again later.';
          }
        });
      });
    </script>
</body>
</html>
